tasks:
  - name: set environment
    before: >
      echo PATH="$PATH:/workspace" >> ~/.bashrc && 
      echo PIPX_HOME=/workspace/ >> ~/.bashrc &&
      echo PIPX_BIN_DIR=/workspace/ >> ~/.bashrc &&
      exit
  - name: install algokit
    init: > 
      pip install pipx && 
      PIPX_HOME=/workspace/ PIPX_BIN_DIR=/workspace/ pipx install algokit &&
      /workspace/algokit localnet start &&
      exit
  - name: algokit localnet
    command: /workspace/algokit localnet start; exit
vscode:
  extensions:
    - ms-python.python
ports:
  - name: algod
    port: 4001
    visibility: public
    onOpen: ignore
  - name: indexer
    port: 8980
    visibility: public
    onOpen: ignore
  - name: postgres
    port: 5432
    onOpen: ignore
  - name: kmd
    port: 4002
    visibility: public
    onOpen: ignore
  - name: debug port
    port: 9392
    onOpen: ignore
    visibility: public
  - name: webpack
    port: 8080
    visibility: public
    onOpen: ignore